!function(a,c,d,e){"use strict";function b(f,d,g){var c=this;if(a.data(f,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");c.obj=f,c.$obj=a(f),a.data(c.obj,"cubeportfolio",c),d&&d.sortToPreventGaps!==e&&(d.sortByDimension=d.sortToPreventGaps,delete d.sortToPreventGaps),c.options=a.extend({},a.fn.cubeportfolio.options,d,c.$obj.data("cbp-options")),c.isAnimating=!0,c.defaultFilter=c.options.defaultFilter,c.registeredEvents=[],c.queue=[],c.addedWrapp=!1,a.isFunction(g)&&c.registerEvent("initFinish",g,!0);var h=c.$obj.children();c.$obj.addClass("cbp"),(0===h.length||h.first().hasClass("cbp-item"))&&(c.wrapInner(c.obj,"cbp-wrapper"),c.addedWrapp=!0),c.$ul=c.$obj.children().addClass("cbp-wrapper"),c.wrapInner(c.obj,"cbp-wrapper-outer"),c.wrapper=c.$obj.children(".cbp-wrapper-outer"),c.blocks=c.$ul.children(".cbp-item"),c.blocksOn=c.blocks,c.wrapInner(c.blocks,"cbp-item-wrapper"),c.plugins={},a.each(b.plugins,function(b,d){var a=d(c);a&&(c.plugins[b]=a)}),c.triggerEvent("afterPlugins"),c.removeAttrAfterStoreData=a.Deferred(),c.loadImages(c.$obj,c.display)}a.extend(b.prototype,{storeData:function(c,b){var d=this;b=b||0,c.each(function(g,h){var c=a(h),e=c.width(),f=c.height();c.data("cbp",{index:b+g,indexInitial:b+g,wrapper:c.children(".cbp-item-wrapper"),widthInitial:e,heightInitial:f,width:e,height:f,widthAndGap:e+d.options.gapVertical,heightAndGap:f+d.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})}),this.removeAttrAfterStoreData.resolve()},wrapInner:function(a,f){var b,c,g;if(f=f||"",!(a.length&&a.length<1))for(a.length===e&&(a=[a]),c=a.length-1;0<=c;c--){for(b=a[c],(g=d.createElement("div")).setAttribute("class",f);b.childNodes.length;)g.appendChild(b.childNodes[0]);b.appendChild(g)}},removeAttrImage:function(a){this.removeAttrAfterStoreData.then(function(){a.removeAttribute("width"),a.removeAttribute("height"),a.removeAttribute("style")})},loadImages:function(b,c){var d=this;requestAnimationFrame(function(){var e=b.find("img").map(function(e,b){if(b.hasAttribute("width")&&b.hasAttribute("height")){if(b.style.width=b.getAttribute("width")+"px",b.style.height=b.getAttribute("height")+"px",b.hasAttribute("data-cbp-src"))return null;if(null===d.checkSrc(b))d.removeAttrImage(b);else{var c=a("<img>");c.on("load.cbp error.cbp",function(){a(this).off("load.cbp error.cbp"),d.removeAttrImage(b)}),b.srcset?(c.attr("sizes",b.sizes||"100vw"),c.attr("srcset",b.srcset)):c.attr("src",b.src)}return null}return d.checkSrc(b)}),f=e.length;0!==f?a.each(e,function(g,b){var e=a("<img>");e.on("load.cbp error.cbp",function(){a(this).off("load.cbp error.cbp"),0== --f&&c.call(d)}),b.srcset?(e.attr("sizes",b.sizes),e.attr("srcset",b.srcset)):e.attr("src",b.src)}):c.call(d)})},checkSrc:function(d){var f=d.srcset,g=d.src;if(""===g)return null;var b=a("<img>");f?(b.attr("sizes",d.sizes||"100vw"),b.attr("srcset",f)):b.attr("src",g);var c=b[0];return c.complete&&c.naturalWidth!==e&&0!==c.naturalWidth?null:c},display:function(){var a=this;a.width=a.$obj.outerWidth(),a.triggerEvent("initStartRead"),a.triggerEvent("initStartWrite"),0<a.width&&(a.storeData(a.blocks),a.layoutAndAdjustment()),a.triggerEvent("initEndRead"),a.triggerEvent("initEndWrite"),a.$obj.addClass("cbp-ready"),a.runQueue("delayFrame",a.delayFrame)},delayFrame:function(){var a=this;requestAnimationFrame(function(){a.resizeEvent(),a.triggerEvent("initFinish"),a.isAnimating=!1,a.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var a=this;b.private.resize.initEvent({instance:a,fn:function(){a.triggerEvent("beforeResizeGrid");var b=a.$obj.outerWidth();b&&a.width!==b&&(a.width=b,"alignCenter"===a.options.gridAdjustment&&(a.wrapper[0].style.maxWidth=""),a.layoutAndAdjustment(),a.triggerEvent("resizeGrid")),a.triggerEvent("resizeWindow")}})},gridAdjust:function(){var b=this;"responsive"===b.options.gridAdjustment?b.responsiveLayout():(b.blocks.removeAttr("style"),b.blocks.each(function(h,e){var c=a(e).data("cbp"),d=e.getBoundingClientRect(),f=b.columnWidthTruncate(d.right-d.left),g=Math.round(d.bottom-d.top);c.height=g,c.heightAndGap=g+b.options.gapHorizontal,c.width=f,c.widthAndGap=f+b.options.gapVertical}),b.widthAvailable=b.width+b.options.gapVertical),b.triggerEvent("gridAdjust")},layoutAndAdjustment:function(a){a&&(this.width=this.$obj.outerWidth()),this.gridAdjust(),this.layout()},layout:function(){this.computeBlocks(this.filterConcat(this.defaultFilter)),"slider"===this.options.layoutMode?(this.sliderLayoutReset(),this.sliderLayout()):(this.mosaicLayoutReset(),this.mosaicLayout()),this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each(function(d,c){var b=a(c).data("cbp");b.left=b.leftNew,b.top=b.topNew,c.style.left=b.left+"px",c.style.top=b.top+"px"}),this.resizeMainContainer()},computeFilter:function(a){this.computeBlocks(a),this.mosaicLayoutReset(),this.mosaicLayout(),this.filterLayout()},filterLayout:function(){this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each(function(d,c){var b=a(c).data("cbp");b.left=b.leftNew,b.top=b.topNew,c.style.left=b.left+"px",c.style.top=b.top+"px"}),this.resizeMainContainer(),this.filterFinish()},filterFinish:function(){this.isAnimating=!1,this.$obj.trigger("filterComplete.cbp"),this.triggerEvent("filterFinish")},computeBlocks:function(b){var a=this;a.blocksOnInitial=a.blocksOn,a.blocksOn=a.blocks.filter(b),a.blocksOff=a.blocks.not(b),a.triggerEvent("computeBlocksFinish",b)},responsiveLayout:function(){var b=this;b.cols=b[a.isArray(b.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),b.columnWidth=b.columnWidthTruncate((b.width+b.options.gapVertical)/b.cols),b.widthAvailable=b.columnWidth*b.cols,"mosaic"===b.options.layoutMode&&b.getMosaicWidthReference(),b.blocks.each(function(g,d){var c,e=a(d).data("cbp"),f=1;"mosaic"===b.options.layoutMode&&(f=b.getColsMosaic(e.widthInitial)),c=b.columnWidth*f-b.options.gapVertical,d.style.width=c+"px",e.width=c,e.widthAndGap=c+b.options.gapVertical,d.style.height=""});var c=[];b.blocks.each(function(d,b){a.each(a(b).find("img").filter("[width][height]"),function(h,b){var d=0;a(b).parentsUntil(".cbp-item").each(function(e,c){var b=a(c).width();if(0<b)return d=b,!1});var e=parseInt(b.getAttribute("width"),10),f=parseInt(b.getAttribute("height"),10),g=parseFloat((e/f).toFixed(10));c.push({el:b,width:d,height:Math.round(d/g)})})}),a.each(c,function(b,a){a.el.width=a.width,a.el.height=a.height,a.el.style.width=a.width+"px",a.el.style.height=a.height+"px"}),b.blocks.each(function(g,c){var d=a(c).data("cbp"),e=c.getBoundingClientRect(),f=Math.round(e.bottom-e.top);d.height=f,d.heightAndGap=f+b.options.gapHorizontal})},getMosaicWidthReference:function(){var b=[];this.blocks.each(function(e,c){var d=a(c).data("cbp");b.push(d.widthInitial)}),b.sort(function(a,b){return a-b}),b[0]?this.mosaicWidthReference=b[0]:this.mosaicWidthReference=this.columnWidth},getColsMosaic:function(b){if(this.mosaicWidthReference,2==this.cols&&30==this.options.gapVertical){var c=0;return 470==this.mosaicWidthReference&&(c=600),370==this.mosaicWidthReference&&(c=450),(b+this.options.gapVertical-1)/c}if(b===this.width)return this.cols;var a=b/this.mosaicWidthReference;return a=.79<=a%1?Math.ceil(a):Math.floor(a),Math.min(Math.max(a,1),this.cols)},getColumnsAuto:function(){if(0===this.blocks.length)return 1;var a=this.blocks.first().data("cbp").widthInitial+this.options.gapVertical;return Math.max(Math.round(this.width/a),1)},getColumnsBreakpoints:function(){var b,c=this.width;return a.each(this.options.mediaQueries,function(d,a){if(c>=a.width)return b=a,!1}),b||(b=this.options.mediaQueries[this.options.mediaQueries.length-1]),this.triggerEvent("onMediaQueries",b.options),b.cols},columnWidthTruncate:function(a){return Math.floor(a)},resizeMainContainer:function(){var f,c=this,d=Math.max(c.freeSpaces.slice(-1)[0].topStart-c.options.gapHorizontal,0);"alignCenter"===c.options.gridAdjustment&&(f=0,c.blocksOn.each(function(e,d){var b=a(d).data("cbp"),c=b.left+b.width;f<c&&(f=c)}),c.wrapper[0].style.maxWidth=f+"px"),d!==c.height&&(c.obj.style.height=d+"px",c.height!==e&&(b.private.modernBrowser?c.$obj.one(b.private.transitionend,function(){c.$obj.trigger("pluginResize.cbp")}):c.$obj.trigger("pluginResize.cbp")),c.height=d),c.triggerEvent("resizeMainContainer")},filterConcat:function(a){return a.replace(/\|/gi,"")},pushQueue:function(a,b){this.queue[a]=this.queue[a]||[],this.queue[a].push(b)},runQueue:function(b,c){var d=this.queue[b]||[];a.when.apply(a,d).then(a.proxy(c,this))},clearQueue:function(a){this.queue[a]=[]},registerEvent:function(a,b,c){this.registeredEvents[a]||(this.registeredEvents[a]=[]),this.registeredEvents[a].push({func:b,oneTime:c||!1})},triggerEvent:function(b,d){var a,c;if(this.registeredEvents[b])for(a=0,c=this.registeredEvents[b].length;a<c;a++)this.registeredEvents[b][a].func.call(this,d),this.registeredEvents[b][a].oneTime&&(this.registeredEvents[b].splice(a,1),a--,c--)},addItems:function(c,e,f){var d=this;d.wrapInner(c,"cbp-item-wrapper"),d.$ul[f](c.addClass("cbp-item-loading").css({top:"100%",left:0})),b.private.modernBrowser?c.last().one(b.private.animationend,function(){d.addItemsFinish(c,e)}):d.addItemsFinish(c,e),d.loadImages(c,function(){if(d.$obj.addClass("cbp-updateItems"),"append"===f)d.storeData(c,d.blocks.length),a.merge(d.blocks,c);else{d.storeData(c);var e=c.length;d.blocks.each(function(b,c){a(c).data("cbp").index=e+b}),d.blocks=a.merge(c,d.blocks)}d.triggerEvent("addItemsToDOM",c),d.triggerEvent("triggerSort"),d.layoutAndAdjustment(!0),d.elems&&b.public.showCounter.call(d.obj,d.elems)})},addItemsFinish:function(b,c){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),b.removeClass("cbp-item-loading"),a.isFunction(c)&&c.call(this,b),this.$obj.trigger("onAfterLoadMore.cbp",[b])},removeItems:function(d,e){var c=this;c.$obj.addClass("cbp-updateItems"),b.private.modernBrowser?d.last().one(b.private.animationend,function(){c.removeItemsFinish(d,e)}):c.removeItemsFinish(d,e),d.each(function(d,e){c.blocks.each(function(g,f){if(e===f){var d=a(f);c.blocks.splice(g,1),b.private.modernBrowser?(d.one(b.private.animationend,function(){d.remove()}),d.addClass("cbp-removeItem")):d.remove()}})}),c.blocks.each(function(b,c){a(c).data("cbp").index=b}),c.triggerEvent("triggerSort"),c.layoutAndAdjustment(!0),c.elems&&b.public.showCounter.call(c.obj,c.elems)},removeItemsFinish:function(c,b){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),a.isFunction(b)&&b.call(this,c)}}),a.fn.cubeportfolio=function(a,c,d){return this.each(function(){if("object"==typeof a||!a)return b.public.init.call(this,a,c);if(b.public[a])return b.public[a].call(this,c,d);throw new Error("Method "+a+" does not exist on jquery.cubeportfolio.js")})},b.plugins={},a.fn.cubeportfolio.constructor=b}(jQuery,window,document),function(a,c,d,e){"use strict";var b=a.fn.cubeportfolio.constructor;a.extend(b.prototype,{mosaicLayoutReset:function(){var b=this;b.blocksAreSorted=!1,b.blocksOn.each(function(d,c){a(c).data("cbp").pack=!1,b.options.sortByDimension&&(c.style.height="")}),b.freeSpaces=[{leftStart:0,leftEnd:b.widthAvailable,topStart:0,topEnd:262144}]},mosaicLayout:function(){for(var a=this,c=0,d=a.blocksOn.length;c<d;c++){var b=a.getSpaceIndexAndBlock();if(null===b)return a.mosaicLayoutReset(),a.blocksAreSorted=!0,a.sortBlocks(a.blocksOn,"widthAndGap","heightAndGap",!0),void a.mosaicLayout();a.generateF1F2(b.spaceIndex,b.dataBlock),a.generateG1G2G3G4(b.dataBlock),a.cleanFreeSpaces(),a.addHeightToBlocks()}a.blocksAreSorted&&a.sortBlocks(a.blocksOn,"topNew","leftNew")},getSpaceIndexAndBlock:function(){var b=this,c=null;return a.each(b.freeSpaces,function(e,d){var f=d.leftEnd-d.leftStart,g=d.topEnd-d.topStart;return b.blocksOn.each(function(i,h){var b=a(h).data("cbp");if(!0!==b.pack)return b.widthAndGap<=f&&b.heightAndGap<=g?(b.pack=!0,c={spaceIndex:e,dataBlock:b},b.leftNew=d.leftStart,b.topNew=d.topStart,!1):void 0}),!b.blocksAreSorted&&b.options.sortByDimension&&0<e?(c=null,!1):null===c&&void 0}),c},generateF1F2:function(b,e){var a=this.freeSpaces[b],c={leftStart:a.leftStart+e.widthAndGap,leftEnd:a.leftEnd,topStart:a.topStart,topEnd:a.topEnd},d={leftStart:a.leftStart,leftEnd:a.leftEnd,topStart:a.topStart+e.heightAndGap,topEnd:a.topEnd};this.freeSpaces.splice(b,1),c.leftStart<c.leftEnd&&c.topStart<c.topEnd&&(this.freeSpaces.splice(b,0,c),b++),d.leftStart<d.leftEnd&&d.topStart<d.topEnd&&this.freeSpaces.splice(b,0,d)},generateG1G2G3G4:function(d){var b=this,c=[];a.each(b.freeSpaces,function(f,a){var e=b.intersectSpaces(a,d);null!==e?(b.generateG1(a,e,c),b.generateG2(a,e,c),b.generateG3(a,e,c),b.generateG4(a,e,c)):c.push(a)}),b.freeSpaces=c},intersectSpaces:function(a,c){var b={leftStart:c.leftNew,leftEnd:c.leftNew+c.widthAndGap,topStart:c.topNew,topEnd:c.topNew+c.heightAndGap};if(a.leftStart===b.leftStart&&a.leftEnd===b.leftEnd&&a.topStart===b.topStart&&a.topEnd===b.topEnd)return null;var d=Math.max(a.leftStart,b.leftStart),e=Math.min(a.leftEnd,b.leftEnd),f=Math.max(a.topStart,b.topStart),g=Math.min(a.topEnd,b.topEnd);return e<=d||g<=f?null:{leftStart:d,leftEnd:e,topStart:f,topEnd:g}},generateG1:function(a,b,c){a.topStart!==b.topStart&&c.push({leftStart:a.leftStart,leftEnd:a.leftEnd,topStart:a.topStart,topEnd:b.topStart})},generateG2:function(a,b,c){a.leftEnd!==b.leftEnd&&c.push({leftStart:b.leftEnd,leftEnd:a.leftEnd,topStart:a.topStart,topEnd:a.topEnd})},generateG3:function(a,b,c){a.topEnd!==b.topEnd&&c.push({leftStart:a.leftStart,leftEnd:a.leftEnd,topStart:b.topEnd,topEnd:a.topEnd})},generateG4:function(a,b,c){a.leftStart!==b.leftStart&&c.push({leftStart:a.leftStart,leftEnd:b.leftStart,topStart:a.topStart,topEnd:a.topEnd})},cleanFreeSpaces:function(){this.freeSpaces.sort(function(a,b){return a.topStart>b.topStart?1:a.topStart<b.topStart?-1:a.leftStart>b.leftStart?1:a.leftStart<b.leftStart?-1:0}),this.correctSubPixelValues(),this.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var a,c,b,d;for(a=0,c=this.freeSpaces.length-1;a<c;a++)b=this.freeSpaces[a],(d=this.freeSpaces[a+1]).topStart-b.topStart<=1&&(d.topStart=b.topStart)},removeNonMaximalFreeSpaces:function(){var b=this;b.uniqueFreeSpaces(),b.freeSpaces=a.map(b.freeSpaces,function(c,d){return a.each(b.freeSpaces,function(b,a){if(d!==b)return a.leftStart<=c.leftStart&&a.leftEnd>=c.leftEnd&&a.topStart<=c.topStart&&a.topEnd>=c.topEnd?(c=null,!1):void 0}),c})},uniqueFreeSpaces:function(){var b=[];a.each(this.freeSpaces,function(d,c){a.each(b,function(b,a){if(a.leftStart===c.leftStart&&a.leftEnd===c.leftEnd&&a.topStart===c.topStart&&a.topEnd===c.topEnd)return c=null,!1}),null!==c&&b.push(c)}),this.freeSpaces=b},addHeightToBlocks:function(){var b=this;a.each(b.freeSpaces,function(c,d){b.blocksOn.each(function(f,e){var c=a(e).data("cbp");!0===c.pack&&b.intersectSpaces(d,c)&& -1==d.topStart-c.topNew-c.heightAndGap&&(e.style.height=c.height-1+"px")})})},sortBlocks:function(d,e,b,c){b=void 0===b?"leftNew":b,c=void 0===c?1:-1,d.sort(function(g,h){var d=a(g).data("cbp"),f=a(h).data("cbp");return d[e]>f[e]?c:d[e]<f[e]?-c:d[b]>f[b]?c:d[b]<f[b]?-c:d.index>f.index?c:d.index<f.index?-c:void 0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",search:"",layoutMode:"grid",sortByDimension:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(b,c,d,e){"use strict";var a=b.fn.cubeportfolio.constructor,f=b(c);a.private={publicEvents:function(c,d,e){var a=this;a.events=[],a.initEvent=function(b){0===a.events.length&&a.scrollEvent(),a.events.push(b)},a.destroyEvent=function(d){a.events=b.map(a.events,function(a,b){if(a.instance!==d)return a}),0===a.events.length&&f.off(c)},a.scrollEvent=function(){var g;f.on(c,function(){clearTimeout(g),g=setTimeout(function(){b.isFunction(e)&&e.call(a)||b.each(a.events,function(b,a){a.fn.call(a.instance)})},d)})}},checkInstance:function(c){var a=b.data(this,"cubeportfolio");if(!a)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+c+" method!");return a.triggerEvent("publicMethod"),a},browserInfo:function(){var f,e,b=a.private,d=navigator.appVersion;-1!==d.indexOf("MSIE 8.")?b.browser="ie8":-1!==d.indexOf("MSIE 9.")?b.browser="ie9":-1!==d.indexOf("MSIE 10.")?b.browser="ie10":c.ActiveXObject||"ActiveXObject"in c?b.browser="ie11":/android/gi.test(d)?b.browser="android":/iphone|ipad|ipod/gi.test(d)?b.browser="ios":/chrome/gi.test(d)?b.browser="chrome":b.browser="",b.styleSupport("perspective"),f=b.styleSupport("transition"),b.transitionend=({WebkitTransition:"webkitTransitionEnd",transition:"transitionend"})[f],e=b.styleSupport("animation"),b.animationend=({WebkitAnimation:"webkitAnimationEnd",animation:"animationend"})[e],b.animationDuration=({WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"})[e],b.animationDelay=({WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"})[e],b.transform=b.styleSupport("transform"),f&&e&&b.transform&&(b.modernBrowser=!0)},styleSupport:function(a){var b,e="Webkit"+a.charAt(0).toUpperCase()+a.slice(1),c=d.createElement("div");return a in c.style?b=a:e in c.style&&(b=e),c=null,b}},a.private.browserInfo(),a.private.resize=new a.private.publicEvents("resize.cbp",50,function(){if(c.innerHeight==screen.height)return!0})}(jQuery,window,document),function(a,c,d,e){"use strict";var b=a.fn.cubeportfolio.constructor;b.public={init:function(a,c){new b(this,a,c)},destroy:function(d){var c=b.private.checkInstance.call(this,"destroy");c.triggerEvent("beforeDestroy"),a.removeData(this,"cubeportfolio"),c.blocks.removeData("cbp"),c.$obj.removeClass("cbp-ready").removeAttr("style"),c.$ul.removeClass("cbp-wrapper"),b.private.resize.destroyEvent(c),c.$obj.off(".cbp"),c.blocks.removeClass("cbp-item-off").removeAttr("style"),c.blocks.find(".cbp-item-wrapper").each(function(e,d){var b=a(d),c=b.children();c.length?c.unwrap():b.remove()}),c.destroySlider&&c.destroySlider(),c.$ul.unwrap(),c.addedWrapp&&c.blocks.unwrap(),0===c.blocks.length&&c.$ul.remove(),a.each(c.plugins,function(b,a){"function"==typeof a.destroy&&a.destroy()}),a.isFunction(d)&&d.call(c),c.triggerEvent("afterDestroy")},filter:function(d,f){var e,c=b.private.checkInstance.call(this,"filter");if(!c.isAnimating){if(c.isAnimating=!0,a.isFunction(f)&&c.registerEvent("filterFinish",f,!0),a.isFunction(d)){if(void 0===(e=d.call(c,c.blocks)))throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else{if(c.options.filterDeeplinking){var g=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=g+"#cbpf="+encodeURIComponent(d),c.singlePage&&c.singlePage.url&&(c.singlePage.url=location.href)}c.defaultFilter=d,e=c.filterConcat(c.defaultFilter)}c.triggerEvent("filterStart",e),c.singlePageInline&&c.singlePageInline.isOpen?c.singlePageInline.close("promise",{callback:function(){c.computeFilter(e)}}):c.computeFilter(e)}},showCounter:function(d,e){var c=b.private.checkInstance.call(this,"showCounter");a.isFunction(e)&&c.registerEvent("showCounterFinish",e,!0),(c.elems=d).each(function(){var b=a(this),d=c.blocks.filter(b.data("filter")).length;b.find(".cbp-filter-counter").text(d)}),c.triggerEvent("showCounterFinish",d)},appendItems:function(a,c){b.public.append.call(this,a,c)},append:function(f,d){var c=b.private.checkInstance.call(this,"append"),e=a(f).filter(".cbp-item");c.isAnimating||e.length<1?a.isFunction(d)&&d.call(c,e):(c.isAnimating=!0,c.singlePageInline&&c.singlePageInline.isOpen?c.singlePageInline.close("promise",{callback:function(){c.addItems(e,d,"append")}}):c.addItems(e,d,"append"))},prepend:function(f,d){var c=b.private.checkInstance.call(this,"prepend"),e=a(f).filter(".cbp-item");c.isAnimating||e.length<1?a.isFunction(d)&&d.call(c,e):(c.isAnimating=!0,c.singlePageInline&&c.singlePageInline.isOpen?c.singlePageInline.close("promise",{callback:function(){c.addItems(e,d,"prepend")}}):c.addItems(e,d,"prepend"))},remove:function(f,d){var c=b.private.checkInstance.call(this,"remove"),e=a(f).filter(".cbp-item");c.isAnimating||e.length<1?a.isFunction(d)&&d.call(c,e):(c.isAnimating=!0,c.singlePageInline&&c.singlePageInline.isOpen?c.singlePageInline.close("promise",{callback:function(){c.removeItems(e,d)}}):c.removeItems(e,d))},layout:function(d){var c=b.private.checkInstance.call(this,"layout");c.width=c.$obj.outerWidth(),c.isAnimating||c.width<=0||("alignCenter"===c.options.gridAdjustment&&(c.wrapper[0].style.maxWidth=""),c.storeData(c.blocks),c.layoutAndAdjustment()),a.isFunction(d)&&d.call(c)}}}(jQuery,window,document),function(a,c,d,e){"use strict";var b=a.fn.cubeportfolio.constructor;a.extend(b.prototype,{updateSliderPagination:function(){var d,c,b=this;if(b.options.showPagination){for(d=Math.ceil(b.blocksOn.length/b.cols),b.navPagination.empty(),c=d-1;0<=c;c--)a("<div/>",{class:"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(b.navPagination);b.navPaginationItems=b.navPagination.children()}b.enableDisableNavSlider()},destroySlider:function(){"slider"===this.options.layoutMode&&(this.$obj.removeClass("cbp-mode-slider"),this.$ul.removeAttr("style"),this.$ul.off(".cbp"),a(d).off(".cbp"),this.options.auto&&this.stopSliderAuto())},nextSlider:function(b){var a=this;if(a.isEndSlider()){if(!a.isRewindNav())return;a.sliderActive=0}else a.options.scrollByPage?a.sliderActive=Math.min(a.sliderActive+a.cols,a.blocksOn.length-a.cols):a.sliderActive+=1;a.goToSlider()},prevSlider:function(b){var a=this;if(a.isStartSlider()){if(!a.isRewindNav())return;a.sliderActive=a.blocksOn.length-a.cols}else a.options.scrollByPage?a.sliderActive=Math.max(0,a.sliderActive-a.cols):a.sliderActive-=1;a.goToSlider()},jumpToSlider:function(c){var a=this,b=Math.min(c.index()*a.cols,a.blocksOn.length-a.cols);b!==a.sliderActive&&(a.sliderActive=b,a.goToSlider())},jumpDragToSlider:function(b){var c,d,e,a=this,f=0<b;a.options.scrollByPage?(c=a.cols*a.columnWidth,d=a.cols):(c=a.columnWidth,d=1),b=Math.abs(b),e=Math.floor(b/c)*d,20<b%c&&(e+=d),a.sliderActive=f?Math.min(a.sliderActive+e,a.blocksOn.length-a.cols):Math.max(0,a.sliderActive-e),a.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){return this.sliderActive+this.cols>this.blocksOn.length-1},goToSlider:function(){this.enableDisableNavSlider(),this.updateSliderPosition()},startSliderAuto:function(){var a=this;a.isDrag?a.stopSliderAuto():a.timeout=setTimeout(function(){a.nextSlider(),a.startSliderAuto()},a.options.autoTimeout)},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var a,b;this.isRewindNav()||(b=this.isStartSlider()?"addClass":"removeClass",this.navPrev[b]("cbp-nav-stop"),b=this.isEndSlider()?"addClass":"removeClass",this.navNext[b]("cbp-nav-stop")),this.options.showPagination&&(a=this.options.scrollByPage?Math.ceil(this.sliderActive/this.cols):this.isEndSlider()?this.navPaginationItems.length-1:Math.floor(this.sliderActive/this.cols),this.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(a).addClass("cbp-nav-pagination-active")),this.customPagination&&(a=this.options.scrollByPage?Math.ceil(this.sliderActive/this.cols):this.isEndSlider()?this.customPaginationItems.length-1:Math.floor(this.sliderActive/this.cols),this.customPaginationItems.removeClass(this.customPaginationClass).eq(a).addClass(this.customPaginationClass))},isRewindNav:function(){return!this.options.showNavigation|| !(this.blocksOn.length<=this.cols)&&!!this.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var b=this;b.blocksOn.each(function(d,e){var c=a(e).data("cbp");c.leftNew=b.columnWidth*d,c.topNew=0,b.sliderFreeSpaces.push({topStart:c.heightAndGap})}),b.getFreeSpacesForSlider(),b.$ul.width(b.columnWidth*b.blocksOn.length-b.options.gapVertical)},getFreeSpacesForSlider:function(){var a=this;a.freeSpaces=a.sliderFreeSpaces.slice(a.sliderActive,a.sliderActive+a.cols),a.freeSpaces.sort(function(a,b){return a.topStart>b.topStart?1:a.topStart<b.topStart?-1:void 0})},updateSliderPosition:function(){var a=this,c=-a.sliderActive*a.columnWidth;b.private.modernBrowser?a.$ul[0].style[b.private.transform]="translate3d("+c+"px, 0px, 0)":a.$ul[0].style.left=c+"px",a.getFreeSpacesForSlider(),a.resizeMainContainer()},dragSlider:function(){var h,i,j,k,l,f=this,m=a(d),n=!1,e={},g=!1;function o(a){f.$obj.removeClass("cbp-mode-slider-dragStart"),n=!0,0!==i?(j.one("click.cbp",function(a){return!1}),requestAnimationFrame(function(){f.jumpDragToSlider(i),f.$ul.one(b.private.transitionend,q)})):q.call(f),m.off(e.move),m.off(e.end)}function p(c){(8<(i=h-r(c).x)||i< -8)&&c.preventDefault(),f.isDrag=!0;var a=k-i;i<0&&i<k?a=(k-i)/5:0<i&&k-i< -l&&(a=(l+k-i)/5-l),b.private.modernBrowser?f.$ul[0].style[b.private.transform]="translate3d("+a+"px, 0px, 0)":f.$ul[0].style.left=a+"px"}function q(){n=!1,f.isDrag=!1,f.options.auto&&(f.mouseIsEntered||f.startSliderAuto())}function r(a){return void 0!==a.originalEvent&& void 0!==a.originalEvent.touches&&(a=a.originalEvent.touches[0]),{x:a.pageX,y:a.pageY}}f.isDrag=!1,"ontouchstart"in c||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?(e={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},g=!0):e={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},f.$ul.on(e.start,function(b){f.sliderItemsLength()||(g||b.preventDefault(),f.options.auto&&f.stopSliderAuto(),n?a(j).one("click.cbp",function(){return!1}):(j=a(b.target),h=r(b).x,i=0,k=-f.sliderActive*f.columnWidth,l=f.columnWidth*(f.blocksOn.length-f.cols),m.on(e.move,p),m.on(e.end,o),f.$obj.addClass("cbp-mode-slider-dragStart")))})},sliderLayoutReset:function(){this.freeSpaces=[],this.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(b){function a(){}return a.prototype=b,new a}),function(){for(var c=0,b=["moz","webkit"],a=0;a<b.length&&!window.requestAnimationFrame;a++)window.requestAnimationFrame=window[b[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[a]+"CancelAnimationFrame"]||window[b[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,f){var a=new Date().getTime(),b=Math.max(0,16-(a-c)),d=window.setTimeout(function(){e(a+b)},b);return c=a+b,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor;function a(a){(this.parent=a).filterLayout=this.filterLayout,a.registerEvent("computeBlocksFinish",function(b){a.blocksOn2On=a.blocksOnInitial.filter(b),a.blocksOn2Off=a.blocksOnInitial.not(b)})}a.prototype.filterLayout=function(){var a=this;function d(){a.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(e,d){var a=b(d).data("cbp");a.left=a.leftNew,a.top=a.topNew,d.style.left=a.left+"px",d.style.top=a.top+"px",d.style[c.private.transform]=""}),a.blocksOff.addClass("cbp-item-off"),a.$obj.removeClass("cbp-animation-"+a.options.animationType),a.filterFinish()}a.$obj.addClass("cbp-animation-"+a.options.animationType),a.blocksOn2On.addClass("cbp-item-on2on").each(function(e,d){var a=b(d).data("cbp");d.style[c.private.transform]="translate3d("+(a.leftNew-a.left)+"px, "+(a.topNew-a.top)+"px, 0)"}),a.blocksOn2Off.addClass("cbp-item-on2off"),a.blocksOff2On=a.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(d,a){var c=b(a).data("cbp");a.style.left=c.leftNew+"px",a.style.top=c.topNew+"px"}),a.blocksOn2Off.length?a.blocksOn2Off.last().data("cbp").wrapper.one(c.private.animationend,d):a.blocksOff2On.length?a.blocksOff2On.last().data("cbp").wrapper.one(c.private.animationend,d):a.blocksOn2On.length?a.blocksOn2On.last().one(c.private.transitionend,d):d(),a.resizeMainContainer()},a.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},c.plugins.animationClassic=function(d){return!c.private.modernBrowser||0>b.inArray(d.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])?null:new a(d)}}(jQuery,window,document),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor;function a(a){(this.parent=a).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var a=this,d=a.$ul[0].cloneNode(!0);function e(){a.wrapper[0].removeChild(d),"sequentially"===a.options.animationType&&a.blocksOn.each(function(d,a){b(a).data("cbp").wrapper[0].style[c.private.animationDelay]=""}),a.$obj.removeClass("cbp-animation-"+a.options.animationType),a.filterFinish()}d.setAttribute("class","cbp-wrapper-helper"),a.wrapper[0].insertBefore(d,a.$ul[0]),requestAnimationFrame(function(){a.$obj.addClass("cbp-animation-"+a.options.animationType),a.blocksOff.addClass("cbp-item-off"),a.blocksOn.removeClass("cbp-item-off").each(function(f,e){var d=b(e).data("cbp");d.left=d.leftNew,d.top=d.topNew,e.style.left=d.left+"px",e.style.top=d.top+"px","sequentially"===a.options.animationType&&(d.wrapper[0].style[c.private.animationDelay]=60*f+"ms")}),a.blocksOn.length?a.blocksOn.last().data("cbp").wrapper.one(c.private.animationend,e):a.blocksOnInitial.length?a.blocksOnInitial.last().data("cbp").wrapper.one(c.private.animationend,e):e(),a.resizeMainContainer()})},a.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},c.plugins.animationClone=function(d){return!c.private.modernBrowser||0>b.inArray(d.options.animationType,["fadeOutTop","slideLeft","sequentially"])?null:new a(d)}}(jQuery,window,document),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor;function a(a){(this.parent=a).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var a=this,d=a.$ul.clone(!0,!0);d[0].setAttribute("class","cbp-wrapper-helper"),a.wrapper[0].insertBefore(d[0],a.$ul[0]);var e=d.find(".cbp-item").not(".cbp-item-off");function f(){a.wrapper[0].removeChild(d[0]),a.$obj.removeClass("cbp-animation-"+a.options.animationType),a.blocks.each(function(d,a){b(a).data("cbp").wrapper[0].style[c.private.animationDelay]=""}),a.filterFinish()}a.blocksAreSorted&&a.sortBlocks(e,"top","left"),e.children(".cbp-item-wrapper").each(function(a,b){b.style[c.private.animationDelay]=50*a+"ms"}),requestAnimationFrame(function(){a.$obj.addClass("cbp-animation-"+a.options.animationType),a.blocksOff.addClass("cbp-item-off"),a.blocksOn.removeClass("cbp-item-off").each(function(e,d){var a=b(d).data("cbp");a.left=a.leftNew,a.top=a.topNew,d.style.left=a.left+"px",d.style.top=a.top+"px",a.wrapper[0].style[c.private.animationDelay]=50*e+"ms"});var d=a.blocksOn.length,g=e.length;0===d&&0===g?f():d<g?e.last().children(".cbp-item-wrapper").one(c.private.animationend,f):a.blocksOn.last().data("cbp").wrapper.one(c.private.animationend,f),a.resizeMainContainer()})},a.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},c.plugins.animationCloneDelay=function(d){return!c.private.modernBrowser||0>b.inArray(d.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])?null:new a(d)}}(jQuery,window,document),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor;function a(a){(this.parent=a).filterLayout=this.filterLayout}a.prototype.filterLayout=function(){var a=this,d=a.$ul[0].cloneNode(!0);function e(){a.wrapper[0].removeChild(d),a.$obj.removeClass("cbp-animation-"+a.options.animationType),a.filterFinish()}d.setAttribute("class","cbp-wrapper-helper"),a.wrapper[0].insertBefore(d,a.$ul[0]),requestAnimationFrame(function(){a.$obj.addClass("cbp-animation-"+a.options.animationType),a.blocksOff.addClass("cbp-item-off"),a.blocksOn.removeClass("cbp-item-off").each(function(d,c){var a=b(c).data("cbp");a.left=a.leftNew,a.top=a.topNew,c.style.left=a.left+"px",c.style.top=a.top+"px"}),a.blocksOn.length?a.$ul.one(c.private.animationend,e):a.blocksOnInitial.length?b(d).one(c.private.animationend,e):e(),a.resizeMainContainer()})},a.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},c.plugins.animationWrapper=function(d){return!c.private.modernBrowser||0>b.inArray(d.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])?null:new a(d)}}(jQuery,window,document),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor;function a(a){var b=this,c=a.options;b.parent=a,b.captionOn=c.caption,a.registerEvent("onMediaQueries",function(a){a&&a.hasOwnProperty("caption")?b.captionOn!==a.caption&&(b.destroy(),b.captionOn=a.caption,b.init()):b.captionOn!==c.caption&&(b.destroy(),b.captionOn=c.caption,b.init())}),b.init()}a.prototype.init=function(){var a=this;""!=a.captionOn&&("expand"===a.captionOn||c.private.modernBrowser||(a.parent.options.caption=a.captionOn="minimal"),a.parent.$obj.addClass("cbp-caption-active cbp-caption-"+a.captionOn))},a.prototype.destroy=function(){this.parent.$obj.removeClass("cbp-caption-active cbp-caption-"+this.captionOn)},c.plugins.caption=function(b){return new a(b)}}(jQuery,window,document),function(a,d,e,f){"use strict";var b=a.fn.cubeportfolio.constructor;function c(b){(this.parent=b).registerEvent("initFinish",function(){b.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(h){if(h.preventDefault(),!b.isAnimating){b.isAnimating=!0;var f=a(this),c=f.next(),g=f.parent(),d={position:"relative",height:c.outerHeight(!0)},e={position:"relative",height:0};if(b.$obj.addClass("cbp-caption-expand-active"),g.hasClass("cbp-caption-expand-open")){var i=e;e=d,d=i,g.removeClass("cbp-caption-expand-open")}c.css(d),b.$obj.one("pluginResize.cbp",function(){b.isAnimating=!1,b.$obj.removeClass("cbp-caption-expand-active"),0===d.height&&(g.removeClass("cbp-caption-expand-open"),c.attr("style",""))}),b.layoutAndAdjustment(!0),c.css(e),requestAnimationFrame(function(){g.addClass("cbp-caption-expand-open"),c.css(d),b.triggerEvent("gridAdjust"),b.triggerEvent("resizeGrid")})}})},!0)}c.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},b.plugins.captionExpand=function(a){return"expand"!==a.options.caption?null:new c(a)}}(jQuery,window,document),function(a,c,d,e){"use strict";var b=a.fn.cubeportfolio.constructor;function f(c){c.registerEvent("initEndWrite",function(){if(!(c.width<=0)){var d=a.Deferred();c.pushQueue("delayFrame",d),c.blocksOn.each(function(a,d){d.style[b.private.animationDelay]=a*c.options.displayTypeSpeed+"ms"}),c.$obj.addClass("cbp-displayType-bottomToTop"),c.blocksOn.last().one(b.private.animationend,function(){c.$obj.removeClass("cbp-displayType-bottomToTop"),c.blocksOn.each(function(c,a){a.style[b.private.animationDelay]=""}),d.resolve()})}},!0)}b.plugins.displayBottomToTop=function(a){return b.private.modernBrowser&&"bottomToTop"===a.options.displayType&&0!==a.blocksOn.length?new f(a):null}}(jQuery,window,document),function(a,c,d,e){"use strict";var b=a.fn.cubeportfolio.constructor;function f(c){c.registerEvent("initEndWrite",function(){if(!(c.width<=0)){var d=a.Deferred();c.pushQueue("delayFrame",d),c.obj.style[b.private.animationDuration]=c.options.displayTypeSpeed+"ms",c.$obj.addClass("cbp-displayType-fadeIn"),c.$obj.one(b.private.animationend,function(){c.$obj.removeClass("cbp-displayType-fadeIn"),c.obj.style[b.private.animationDuration]="",d.resolve()})}},!0)}b.plugins.displayFadeIn=function(a){return b.private.modernBrowser&&("lazyLoading"===a.options.displayType||"fadeIn"===a.options.displayType)&&0!==a.blocksOn.length?new f(a):null}}(jQuery,window,document),function(a,c,d,e){"use strict";var b=a.fn.cubeportfolio.constructor;function f(c){c.registerEvent("initEndWrite",function(){if(!(c.width<=0)){var d=a.Deferred();c.pushQueue("delayFrame",d),c.obj.style[b.private.animationDuration]=c.options.displayTypeSpeed+"ms",c.$obj.addClass("cbp-displayType-fadeInToTop"),c.$obj.one(b.private.animationend,function(){c.$obj.removeClass("cbp-displayType-fadeInToTop"),c.obj.style[b.private.animationDuration]="",d.resolve()})}},!0)}b.plugins.displayFadeInToTop=function(a){return b.private.modernBrowser&&"fadeInToTop"===a.options.displayType&&0!==a.blocksOn.length?new f(a):null}}(jQuery,window,document),function(a,c,d,e){"use strict";var b=a.fn.cubeportfolio.constructor;function f(c){c.registerEvent("initEndWrite",function(){if(!(c.width<=0)){var d=a.Deferred();c.pushQueue("delayFrame",d),c.blocksOn.each(function(a,d){d.style[b.private.animationDelay]=a*c.options.displayTypeSpeed+"ms"}),c.$obj.addClass("cbp-displayType-sequentially"),c.blocksOn.last().one(b.private.animationend,function(){c.$obj.removeClass("cbp-displayType-sequentially"),c.blocksOn.each(function(c,a){a.style[b.private.animationDelay]=""}),d.resolve()})}},!0)}b.plugins.displaySequentially=function(a){return b.private.modernBrowser&&"sequentially"===a.options.displayType&&0!==a.blocksOn.length?new f(a):null}}(jQuery,window,document),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor;function a(a){var c=this;c.parent=a,c.filters=b(a.options.filters),c.filterData=[],a.registerEvent("afterPlugins",function(a){c.filterFromUrl(),c.registerFilter()}),a.registerEvent("resetFiltersVisual",function(){var d=a.options.defaultFilter.split("|");c.filters.each(function(e,a){var c=b(a).find(".cbp-filter-item");c.removeClass("cbp-filter-item-active"),b.each(d,function(b,e){var a=c.filter('[data-filter="'+e+'"]');if(a.length)return a.addClass("cbp-filter-item-active"),d.splice(b,1),!1})}),a.defaultFilter=a.options.defaultFilter})}a.prototype.registerFilter=function(){var a=this,c=a.parent,d=c.defaultFilter.split("|");a.wrap=a.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){b(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){b(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),a.filters.each(function(k,g){var e=b(g),i="*",h=e.find(".cbp-filter-item"),f={};e.hasClass("cbp-l-filters-dropdown")&&(f.wrap=e.find(".cbp-l-filters-dropdownWrap"),f.header=e.find(".cbp-l-filters-dropdownHeader"),f.headerText=f.header.text()),c.$obj.cubeportfolio("showCounter",h),b.each(d,function(b,a){if(h.filter('[data-filter="'+a+'"]').length)return i=a,d.splice(b,1),!1}),b.data(g,"filterName",i),a.filterData.push(g),a.filtersCallback(f,h.filter('[data-filter="'+i+'"]'),h);var j=g.getAttribute("data-filter-parent");j&&(e.removeClass("cbp-l-subfilters--active"),j===a.parent.defaultFilter&&e.addClass("cbp-l-subfilters--active")),h.on("click.cbp",function(){var d=b(this);if(!d.hasClass("cbp-filter-item-active")&&!c.isAnimating){a.filtersCallback(f,d,h),b.data(g,"filterName",d.data("filter"));var e=b.map(a.filterData,function(c,g){var d=b(c),f=c.getAttribute("data-filter-parent");f&&(f===b.data(a.filterData[0],"filterName")?d.addClass("cbp-l-subfilters--active"):(d.removeClass("cbp-l-subfilters--active"),b.data(c,"filterName","*"),d.find(".cbp-filter-item").removeClass("cbp-filter-item-active")));var e=b.data(c,"filterName");return""!==e&&"*"!==e?e:null});e.length<1&&(e=["*"]);var i=e.join("|");c.defaultFilter!==i&&c.$obj.cubeportfolio("filter",i)}})})},a.prototype.filtersCallback=function(a,c,d){b.isEmptyObject(a)||(a.wrap.trigger("mouseleave.cbp"),a.headerText?a.headerText="":a.header.html(c.html())),d.removeClass("cbp-filter-item-active"),c.addClass("cbp-filter-item-active")},a.prototype.filterFromUrl=function(){var a=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==a&&(this.parent.defaultFilter=decodeURIComponent(a[1]))},a.prototype.destroy=function(){this.filters.find(".cbp-filter-item").off(".cbp"),this.wrap.off(".cbp")},c.plugins.filters=function(b){return""===b.options.filters?null:new a(b)}}(jQuery,window,document),function(a,b,c,d){"use strict";function e(b){var c=b.options.gapVertical,d=b.options.gapHorizontal;b.registerEvent("onMediaQueries",function(e){b.options.gapVertical=e&&e.hasOwnProperty("gapVertical")?e.gapVertical:c,b.options.gapHorizontal=e&&e.hasOwnProperty("gapHorizontal")?e.gapHorizontal:d,b.blocks.each(function(e,d){var c=a(d).data("cbp");c.widthAndGap=c.width+b.options.gapVertical,c.heightAndGap=c.height+b.options.gapHorizontal})})}a.fn.cubeportfolio.constructor.plugins.changeGapOnMediaQueries=function(a){return new e(a)}}(jQuery,window,document),function(b,e,f,g){"use strict";var h={},c=b.fn.cubeportfolio.constructor;function a(c){var a=this;a.parent=c,a.options=b.extend({},h,a.parent.options.plugins.inlineSlider),a.runInit(),c.registerEvent("addItemsToDOM",function(){a.runInit()})}function d(b){var a=this;b.hasClass("cbp-slider-inline-ready")||(b.addClass("cbp-slider-inline-ready"),a.items=b.find(".cbp-slider-wrapper").children(".cbp-slider-item"),a.active=a.items.filter(".cbp-slider-item--active").index(),a.total=a.items.length-1,a.updateLeft(),b.find(".cbp-slider-next").on("click.cbp",function(b){b.preventDefault(),a.active<a.total?(a.active++,a.updateLeft()):a.active===a.total&&(a.active=0,a.updateLeft())}),b.find(".cbp-slider-prev").on("click.cbp",function(b){b.preventDefault(),0<a.active?(a.active--,a.updateLeft()):0===a.active&&(a.active=a.total,a.updateLeft())}))}d.prototype.updateLeft=function(){var a=this;a.items.removeClass("cbp-slider-item--active"),a.items.eq(a.active).addClass("cbp-slider-item--active"),a.items.each(function(b,c){c.style.left=b-a.active+"00%"})},a.prototype.runInit=function(){var a=this;a.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(g,e){var c=b(e),f=c.find(".cbp-slider-item--active").find("img")[0];f.hasAttribute("data-cbp-src")?a.parent.$obj.on("lazyLoad.cbp",function(b,a){a.src===f.src&&new d(c)}):new d(c)})},a.prototype.destroy=function(){this.parent.$obj.find(".cbp-slider-next").off("click.cbp"),this.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),this.parent.$obj.off("lazyLoad.cbp"),this.parent.$obj.find(".cbp-slider-inline").each(function(e,d){var c=b(d);c.removeClass("cbp-slider-inline-ready");var a=c.find(".cbp-slider-item");a.removeClass("cbp-slider-item--active"),a.removeAttr("style"),a.eq(0).addClass("cbp-slider-item--active")})},c.plugins.inlineSlider=function(b){return new a(b)}}(jQuery,window,document),function(c,d,e,f){"use strict";var g={loadingClass:"cbp-lazyload",threshold:400},b=c.fn.cubeportfolio.constructor,h=c(d);function a(d){var a=this;a.parent=d,a.options=c.extend({},g,a.parent.options.plugins.lazyLoad),d.registerEvent("initFinish",function(){a.loadImages(),d.registerEvent("resizeMainContainer",function(){a.loadImages()}),d.registerEvent("filterFinish",function(){a.loadImages()}),b.private.lazyLoadScroll.initEvent({instance:a,fn:a.loadImages})},!0)}b.private.lazyLoadScroll=new b.private.publicEvents("scroll.cbplazyLoad",50),a.prototype.loadImages=function(){var a=this,b=a.parent.$obj.find("img").filter("[data-cbp-src]");0!==b.length&&(a.screenHeight=h.height(),b.each(function(f,b){var d=c(b.parentNode);if(a.isElementInScreen(b)){var e=b.getAttribute("data-cbp-src");null===a.parent.checkSrc(c("<img>").attr("src",e))?(a.removeLazyLoad(b,e),d.removeClass(a.options.loadingClass)):(d.addClass(a.options.loadingClass),c("<img>").on("load.cbp error.cbp",function(){a.removeLazyLoad(b,e,d)}).attr("src",e))}else d.addClass(a.options.loadingClass)}))},a.prototype.removeLazyLoad=function(a,f,e){var d=this;a.src=f,a.removeAttribute("data-cbp-src"),d.parent.removeAttrImage(a),d.parent.$obj.trigger("lazyLoad.cbp",a),e&&(b.private.modernBrowser?c(a).one(b.private.transitionend,function(){e.removeClass(d.options.loadingClass)}):e.removeClass(d.options.loadingClass))},a.prototype.isElementInScreen=function(c){var b=c.getBoundingClientRect(),a=b.bottom+this.options.threshold,d=this.screenHeight+a-(b.top-this.options.threshold);return 0<=a&&a<=d},a.prototype.destroy=function(){b.private.lazyLoadScroll.destroyEvent(this)},b.plugins.lazyLoad=function(b){return new a(b)}}(jQuery,window,document),function(b,d,e,f){"use strict";var g={element:"",action:"click",loadItems:3},c=b.fn.cubeportfolio.constructor;function a(c){var a=this;a.parent=c,a.options=b.extend({},g,a.parent.options.plugins.loadMore),a.loadMore=b(a.options.element).find(".cbp-l-loadMore-link"),0!==a.loadMore.length&&(a.loadItems=a.loadMore.find(".cbp-l-loadMore-loadItems"),"0"===a.loadItems.text()&&a.loadMore.addClass("cbp-l-loadMore-stop"),c.registerEvent("filterStart",function(b){a.populateItems().then(function(){var c=a.items.filter(a.parent.filterConcat(b)).length;0<c?(a.loadMore.removeClass("cbp-l-loadMore-stop"),a.loadItems.html(c)):a.loadMore.addClass("cbp-l-loadMore-stop")})}),a[a.options.action]())}a.prototype.populateItems=function(){var a=this;return a.items?b.Deferred().resolve():(a.items=b(),b.ajax({url:a.loadMore.attr("href"),type:"GET",dataType:"HTML"}).done(function(d){var c=b.map(d.split(/\r?\n/),function(a,c){return b.trim(a)}).join("");0!==c.length&&b.each(b.parseHTML(c),function(d,c){b(c).hasClass("cbp-item")?a.items=a.items.add(c):b.each(c.children,function(d,c){b(c).hasClass("cbp-item")&&(a.items=a.items.add(c))})})}).fail(function(){a.items=null,a.loadMore.removeClass("cbp-l-loadMore-loading")}))},a.prototype.populateInsertItems=function(d){var a=this,c=[],e=a.parent.defaultFilter,f=0;a.items.each(function(g,d){if(f===a.options.loadItems)return!1;e&&"*"!==e?b(d).filter(a.parent.filterConcat(e)).length&&(c.push(d),a.items[g]=null,f++):(c.push(d),a.items[g]=null,f++)}),a.items=a.items.map(function(b,a){return a}),0!==c.length?a.parent.$obj.cubeportfolio("append",c,d):a.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop")},a.prototype.click=function(){var a=this;function b(){a.loadMore.removeClass("cbp-l-loadMore-loading");var c,b=a.parent.defaultFilter;0===(c=b&&"*"!==b?a.items.filter(a.parent.filterConcat(b)).length:a.items.length)?a.loadMore.addClass("cbp-l-loadMore-stop"):a.loadItems.html(c)}a.loadMore.on("click.cbp",function(c){c.preventDefault(),a.parent.isAnimating||a.loadMore.hasClass("cbp-l-loadMore-stop")||(a.loadMore.addClass("cbp-l-loadMore-loading"),a.populateItems().then(function(){a.populateInsertItems(b)}))})},a.prototype.auto=function(){var a=this,e=b(d),f=!1;function g(){if(!f&&!a.loadMore.hasClass("cbp-l-loadMore-stop")){var b=a.loadMore.offset().top-200;e.scrollTop()+e.height()<b||(f=!0,a.populateItems().then(function(){a.populateInsertItems(h)}).fail(function(){f=!1}))}}function h(){var d,b=a.parent.defaultFilter;0===(d=b&&"*"!==b?a.items.filter(a.parent.filterConcat(b)).length:a.items.length)?a.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop"):(a.loadItems.html(d),e.trigger("scroll.loadMore")),f=!1,0===a.items.length&&(c.private.loadMoreScroll.destroyEvent(a),a.parent.$obj.off("filterComplete.cbp"))}c.private.loadMoreScroll=new c.private.publicEvents("scroll.loadMore",100),a.parent.$obj.one("initComplete.cbp",function(){a.loadMore.addClass("cbp-l-loadMore-loading").on("click.cbp",function(a){a.preventDefault()}),c.private.loadMoreScroll.initEvent({instance:a,fn:function(){a.parent.isAnimating||g()}}),a.parent.$obj.on("filterComplete.cbp",function(){g()}),g()})},a.prototype.destroy=function(){this.loadMore.off(".cbp"),c.private.loadMoreScroll&&c.private.loadMoreScroll.destroyEvent(this)},c.plugins.loadMore=function(c){var b=c.options.plugins;return c.options.loadMore&&(b.loadMore||(b.loadMore={}),b.loadMore.element=c.options.loadMore),c.options.loadMoreAction&&(b.loadMore||(b.loadMore={}),b.loadMore.action=c.options.loadMoreAction),b.loadMore&& void 0!==b.loadMore.selector&&(b.loadMore.element=b.loadMore.selector,delete b.loadMore.selector),b.loadMore&&b.loadMore.element?new a(c):null}}(jQuery,window,document),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor,g={delay:0},h={init:function(l,c){var d,a=this;if(a.cubeportfolio=l,a.type=c,a.isOpen=!1,a.options=a.cubeportfolio.options,"lightbox"===c&&(a.cubeportfolio.registerEvent("resizeWindow",function(){a.resizeImage()}),a.localOptions=b.extend({},g,a.cubeportfolio.options.plugins.lightbox)),"singlePageInline"!==c){if(a.createMarkup(),"singlePage"===c){if(a.cubeportfolio.registerEvent("resizeWindow",function(){if(a.options.singlePageStickyNavigation){var b=a.contentWrap[0].clientWidth;0<b&&(a.navigationWrap.width(b),a.navigation.width(b))}}),a.options.singlePageDeeplinking){if(a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1)),m=(k=a.url.split("#cbp=")).shift(),b.each(k,function(c,e){if(a.cubeportfolio.blocksOn.each(function(g,f){var c=b(f).find(a.options.singlePageDelegate+'[href="'+e+'"]');if(c.length)return d=c,!1}),d)return!1}),d){a.url=m;var h=d,i=h.attr("data-cbp-singlePage"),j=[];i?j=h.closest(b(".cbp-item")).find('[data-cbp-singlePage="'+i+'"]'):a.cubeportfolio.blocksOn.each(function(e,d){var c=b(d);c.not(".cbp-item-off")&&c.find(a.options.singlePageDelegate).each(function(c,a){b(a).attr("data-cbp-singlePage")||j.push(a)})}),a.openSinglePage(j,d[0])}else if(k.length){var f=e.createElement("a");f.setAttribute("href",k[0]),a.openSinglePage([f],f)}}a.localOptions=b.extend({},g,a.cubeportfolio.options.plugins.singlePage)}}else{if(a.height=0,a.createMarkupSinglePageInline(),a.cubeportfolio.registerEvent("resizeGrid",function(){a.isOpen&&a.close()}),a.options.singlePageInlineDeeplinking){a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1));var k,m=(k=a.url.split("#cbpi=")).shift();b.each(k,function(c,e){if(a.cubeportfolio.blocksOn.each(function(g,f){var c=b(f).find(a.options.singlePageInlineDelegate+'[href="'+e+'"]');if(c.length)return d=c,!1}),d)return!1}),d&&a.cubeportfolio.registerEvent("initFinish",function(){a.openSinglePageInline(a.cubeportfolio.blocksOn,d[0])},!0)}a.localOptions=b.extend({},g,a.cubeportfolio.options.plugins.singlePageInline)}},createMarkup:function(){var a=this,f="";if("singlePage"===a.type&&"left"!==a.options.singlePageAnimation&&(f=" cbp-popup-singlePage-"+a.options.singlePageAnimation),a.wrap=b("<div/>",{class:"cbp-popup-wrap cbp-popup-"+a.type+f,"data-action":"lightbox"===a.type?"close":""}).on("click.cbp",function(c){if(!a.stopEvents){var d=b(c.target).attr("data-action");a[d]&&(a[d](),c.preventDefault())}}),"singlePage"===a.type?(a.contentWrap=b("<div/>",{class:"cbp-popup-content-wrap"}).appendTo(a.wrap),"ios"===c.private.browser&&a.contentWrap.css("overflow","auto"),a.content=b("<div/>",{class:"cbp-popup-content"}).appendTo(a.contentWrap)):a.content=b("<div/>",{class:"cbp-popup-content"}).appendTo(a.wrap),b("<div/>",{class:"cbp-popup-loadingBox"}).appendTo(a.wrap),"ie8"===c.private.browser&&(a.bg=b("<div/>",{class:"cbp-popup-ie8bg","data-action":"lightbox"===a.type?"close":""}).appendTo(a.wrap)),"singlePage"===a.type&& !1===a.options.singlePageStickyNavigation?a.navigationWrap=b("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(a.contentWrap):a.navigationWrap=b("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(a.wrap),a.navigation=b("<div/>",{class:"cbp-popup-navigation"}).appendTo(a.navigationWrap),a.closeButton=b("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(a.navigation),a.nextButton=b("<div/>",{class:"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(a.navigation),a.prevButton=b("<div/>",{class:"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(a.navigation),"singlePage"===a.type){a.options.singlePageCounter&&(a.counter=b(a.options.singlePageCounter).appendTo(a.navigation),a.counter.text("")),a.content.on("click.cbp",a.options.singlePageDelegate,function(g){g.preventDefault();var b,c,h=a.dataArray.length,d=this.getAttribute("href");for(b=0;b<h;b++)if(a.dataArray[b].url===d){c=b;break}if(void 0===c){var f=e.createElement("a");f.setAttribute("href",d),a.dataArray=[{url:d,element:f}],a.counterTotal=1,a.nextButton.hide(),a.prevButton.hide(),a.singlePageJumpTo(0)}else a.singlePageJumpTo(c-a.current)});var h=!1;try{var g=Object.defineProperty({},"passive",{get:function(){h={passive:!0}}});d.addEventListener("testPassive",null,g),d.removeEventListener("testPassive",null,g)}catch(k){}var j="onwheel"in e.createElement("div")?"wheel":"mousewheel";a.contentWrap[0].addEventListener(j,function(a){a.stopImmediatePropagation()},h)}b(e).on("keydown.cbp",function(b){a.isOpen&&(a.stopEvents||(i&&b.stopImmediatePropagation(),37===b.keyCode?a.prev():39===b.keyCode?a.next():27===b.keyCode&&a.close()))})},createMarkupSinglePageInline:function(){var a=this;a.wrap=b("<div/>",{class:"cbp-popup-singlePageInline"}).on("click.cbp",function(d){if(!a.stopEvents){var c=b(d.target).attr("data-action");c&&a[c]&&(a[c](),d.preventDefault())}}),a.content=b("<div/>",{class:"cbp-popup-content"}).appendTo(a.wrap),a.navigation=b("<div/>",{class:"cbp-popup-navigation"}).appendTo(a.wrap),a.closeButton=b("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(a.navigation)},destroy:function(){var a=b("body");b(e).off("keydown.cbp"),a.off("click.cbp",this.options.lightboxDelegate),a.off("click.cbp",this.options.singlePageDelegate),this.content.off("click.cbp",this.options.singlePageDelegate),this.cubeportfolio.$obj.off("click.cbp",this.options.singlePageInlineDelegate),this.cubeportfolio.$obj.off("click.cbp",this.options.lightboxDelegate),this.cubeportfolio.$obj.off("click.cbp",this.options.singlePageDelegate),this.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),this.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),this.wrap.remove()},openLightbox:function(f,g){var h,c,a=this,j=0,k=[];if(!a.isOpen){if(i=!0,a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],(a.current=null)===(h=g.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");b.each(f,function(l,i){var d,c=i.getAttribute("href"),e=c,f="isImage";if(-1===b.inArray(c,k)){if(h===c)a.current=j;else if(!a.options.lightboxGallery)return;if(/youtu\.?be/i.test(c)){var g=c.lastIndexOf("v=")+2;1===g&&(g=c.lastIndexOf("/")+1),d=c.substring(g),/autoplay=/i.test(d)||(d+="&autoplay=1"),e="//www.youtube.com/embed/"+(d=d.replace(/\?|&/,"?")),f="isYoutube"}else/vimeo\.com/i.test(c)?(d=c.substring(c.lastIndexOf("/")+1),/autoplay=/i.test(d)||(d+="&autoplay=1"),e="//player.vimeo.com/video/"+(d=d.replace(/\?|&/,"?")),f="isVimeo"):/www\.ted\.com/i.test(c)?(e="http://embed.ted.com/talks/"+c.substring(c.lastIndexOf("/")+1)+".html",f="isTed"):/soundcloud\.com/i.test(c)?(e=c,f="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(c)?(e=-1!==c.indexOf("|")?c.split("|"):c.split("%7C"),f="isSelfHostedVideo"):/\.mp3$/i.test(c)&&(e=c,f="isSelfHostedAudio");a.dataArray.push({src:e,title:i.getAttribute(a.options.lightboxTitleSrc),type:f}),j++}k.push(c)}),a.counterTotal=a.dataArray.length,1===a.counterTotal?(a.nextButton.hide(),a.prevButton.hide(),a.dataActionImg=""):(a.nextButton.show(),a.prevButton.show(),a.dataActionImg='data-action="next"'),a.wrap.appendTo(e.body),a.scrollTop=b(d).scrollTop(),a.originalStyle=b("html").attr("style"),b("html").css({overflow:"hidden",marginRight:d.innerWidth-b(e).width()}),a.wrap.addClass("cbp-popup-transitionend"),a.wrap.show(),c=a.dataArray[a.current],a[c.type](c)}},openSinglePage:function(f,g){var h,a=this,j=0,k=[];if(!a.isOpen){if(a.cubeportfolio.singlePageInline&&a.cubeportfolio.singlePageInline.isOpen&&a.cubeportfolio.singlePageInline.close(),a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],(a.current=null)===(h=g.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(b.each(f,function(e,d){var c=d.getAttribute("href");-1===b.inArray(c,k)&&(h===c&&(a.current=j),a.dataArray.push({url:c,element:d}),j++),k.push(c)}),a.counterTotal=a.dataArray.length,1===a.counterTotal?(a.nextButton.hide(),a.prevButton.hide()):(a.nextButton.show(),a.prevButton.show()),a.wrap.appendTo(e.body),a.scrollTop=b(d).scrollTop(),a.contentWrap.scrollTop(0),a.wrap.show(),a.finishOpen=2,a.navigationMobile=b(),a.wrap.one(c.private.transitionend,function(){b("html").css({overflow:"hidden",marginRight:d.innerWidth-b(e).width()}),a.wrap.addClass("cbp-popup-transitionend"),a.options.singlePageStickyNavigation&&(a.wrap.addClass("cbp-popup-singlePage-sticky"),a.navigationWrap.width(a.contentWrap[0].clientWidth)),a.finishOpen--,a.finishOpen<=0&&a.updateSinglePageIsOpen.call(a)}),"ie8"!==c.private.browser&&"ie9"!==c.private.browser||(b("html").css({overflow:"hidden",marginRight:d.innerWidth-b(e).width()}),a.wrap.addClass("cbp-popup-transitionend"),a.options.singlePageStickyNavigation&&(a.navigationWrap.width(a.contentWrap[0].clientWidth),setTimeout(function(){a.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)),a.finishOpen--),a.wrap.addClass("cbp-popup-loading"),a.wrap.offset(),a.wrap.addClass("cbp-popup-singlePage-open"),a.options.singlePageDeeplinking&&(a.url=a.url.split("#cbp=")[0],location.href=a.url+"#cbp="+a.dataArray[a.current].url),b.isFunction(a.options.singlePageCallback)&&a.options.singlePageCallback.call(a,a.dataArray[a.current].url,a.dataArray[a.current].element),"ios"===c.private.browser){var i=a.contentWrap[0];i.addEventListener("touchstart",function(){var a=i.scrollTop,b=i.scrollHeight,c=a+i.offsetHeight;0===a?i.scrollTop=1:c===b&&(i.scrollTop=a-1)})}}},openSinglePageInline:function(c,e,f){var g,h,k,a=this;if(f=f||!1,a.fromOpen=f,a.storeBlocks=c,a.storeCurrentBlock=e,a.isOpen)return h=a.cubeportfolio.blocksOn.index(b(e).closest(".cbp-item")),void(a.dataArray[a.current].url!==e.getAttribute("href")||a.current!==h?a.cubeportfolio.singlePageInline.close("open",{blocks:c,currentBlock:e,fromOpen:!0}):a.close());if(a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],(a.current=null)===(g=e.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(k=b(e).closest(".cbp-item")[0],c.each(function(b,c){k===c&&(a.current=b)}),a.dataArray[a.current]={url:g,element:e},b(a.dataArray[a.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),a.counterTotal=c.length,a.wrap.insertBefore(a.cubeportfolio.wrapper),a.topDifference=0,"top"===a.options.singlePageInlinePosition)a.blocksToMove=c,a.top=0;else if("bottom"===a.options.singlePageInlinePosition)a.blocksToMove=b(),a.top=a.cubeportfolio.height;else if("above"===a.options.singlePageInlinePosition){var l=b(c[a.current]).data("cbp").top;a.top=l,c.each(function(g,f){var c=b(f).data("cbp"),d=c.top,e=d+c.heightAndGap;l<=d||e>a.top&&(a.top=e,a.topDifference=a.top-l)}),a.blocksToMove=b(),c.each(function(e,c){if(e!==a.current){var d=b(c).data("cbp");d.top+d.heightAndGap>a.top&&(a.blocksToMove=a.blocksToMove.add(c))}else a.blocksToMove=a.blocksToMove.add(c)}),a.top=Math.max(a.top-a.options.gapHorizontal,0)}else{var i=b(c[a.current]).data("cbp"),m=i.top+i.heightAndGap;a.top=m,a.blocksToMove=b(),c.each(function(g,f){var d=b(f).data("cbp"),e=d.top,c=e+d.height;c<=m||(e>=m-d.height/2?a.blocksToMove=a.blocksToMove.add(f):m<c&&e<m&&(c>a.top&&(a.top=c),c-m>a.topDifference&&(a.topDifference=c-m)))})}if(a.wrap[0].style.height=a.wrap.outerHeight(!0)+"px",a.deferredInline=b.Deferred(),a.options.singlePageInlineInFocus){a.scrollTop=b(d).scrollTop();var j=a.cubeportfolio.$obj.offset().top+a.top-100;a.scrollTop!==j?b("html,body").animate({scrollTop:j},350).promise().then(function(){a.resizeSinglePageInline(),a.deferredInline.resolve()}):(a.resizeSinglePageInline(),a.deferredInline.resolve())}else a.resizeSinglePageInline(),a.deferredInline.resolve();a.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),a.wrap.css({top:a.top}),a.options.singlePageInlineDeeplinking&&(a.url=a.url.split("#cbpi=")[0],location.href=a.url+"#cbpi="+a.dataArray[a.current].url),b.isFunction(a.options.singlePageInlineCallback)&&a.options.singlePageInlineCallback.call(a,a.dataArray[a.current].url,a.dataArray[a.current].element)},resizeSinglePageInline:function(){var a=this;a.height=0===a.top||a.top===a.cubeportfolio.height?a.wrap.outerHeight(!0):a.wrap.outerHeight(!0)-a.options.gapHorizontal,a.height+=a.topDifference,a.storeBlocks.each(function(b,a){c.private.modernBrowser?a.style[c.private.transform]="":a.style.marginTop=""}),a.blocksToMove.each(function(d,b){c.private.modernBrowser?b.style[c.private.transform]="translate3d(0px, "+a.height+"px, 0)":b.style.marginTop=a.height+"px"}),a.cubeportfolio.obj.style.height=a.cubeportfolio.height+a.height+"px"},revertResizeSinglePageInline:function(){this.deferredInline=b.Deferred(),this.storeBlocks.each(function(b,a){c.private.modernBrowser?a.style[c.private.transform]="":a.style.marginTop=""}),this.cubeportfolio.obj.style.height=this.cubeportfolio.height+"px"},appendScriptsToWrap:function(a){var c=this,d=0,b=function(g){var f=e.createElement("script"),h=g.src;f.type="text/javascript",f.readyState?f.onreadystatechange=function(){"loaded"!=f.readyState&&"complete"!=f.readyState||(f.onreadystatechange=null,a[++d]&&b(a[d]))}:f.onload=function(){a[++d]&&b(a[d])},h?f.src=h:f.text=g.text,c.content[0].appendChild(f)};b(a[0])},updateSinglePage:function(d,e,f){var c,a=this;a.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===f&&a.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),a.counter&&(c=b(a.getCounterMarkup(a.options.singlePageCounter,a.current+1,a.counterTotal)),a.counter.text(c.text())),a.fromAJAX={html:d,scripts:e},a.finishOpen--,a.finishOpen<=0&&a.updateSinglePageIsOpen.call(a)},updateSinglePageIsOpen:function(){var b,a=this;a.wrap.addClass("cbp-popup-ready"),a.wrap.removeClass("cbp-popup-loading"),a.content.html(a.fromAJAX.html),a.fromAJAX.scripts&&a.appendScriptsToWrap(a.fromAJAX.scripts),a.fromAJAX={},a.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(b=a.content.find(".cbp-slider")).length?(b.find(".cbp-slider-item").addClass("cbp-item"),a.slider=b.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):a.slider=null,a.checkForSocialLinks(a.content),a.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(a){this.createFacebookShare(a.find(".cbp-social-fb")),this.createTwitterShare(a.find(".cbp-social-twitter")),this.createGooglePlusShare(a.find(".cbp-social-googleplus")),this.createPinterestShare(a.find(".cbp-social-pinterest"))},createFacebookShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(d.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(d.location.href)+"&text="+encodeURIComponent(e.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(d.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(a){if(a.length&&!a.attr("onclick")){var b="",c=this.content.find("img")[0];c&&(b=c.src),a.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(d.location.href)+"&media="+b+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(c,b){var a=this;a.content.html(c),b&&a.appendScriptsToWrap(b),a.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),0!==a.localOptions.delay?setTimeout(function(){a.singlePageInlineIsOpen.call(a)},a.localOptions.delay):a.singlePageInlineIsOpen.call(a)},singlePageInlineIsOpen:function(){var a=this;function b(){a.wrap.addClass("cbp-popup-singlePageInline-ready"),a.wrap[0].style.height="",a.resizeSinglePageInline(),a.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}a.cubeportfolio.loadImages(a.wrap,function(){var c=a.content.find(".cbp-slider");c.length?(c.find(".cbp-slider-item").addClass("cbp-item"),c.one("initComplete.cbp",function(){a.deferredInline.done(b)}),c.on("pluginResize.cbp",function(){a.deferredInline.done(b)}),a.slider=c.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(a.slider=null,a.deferredInline.done(b)),a.checkForSocialLinks(a.content)})},isImage:function(c){var a=this;new Image,a.tooggleLoading(!0),a.cubeportfolio.loadImages(b('<div><img src="'+c.src+'"></div>'),function(){a.updateImagesMarkup(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal)),a.tooggleLoading(!1)})},isVimeo:function(a){this.updateVideoMarkup(a.src,a.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isYoutube:function(a){this.updateVideoMarkup(a.src,a.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isTed:function(a){this.updateVideoMarkup(a.src,a.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isSoundCloud:function(a){this.updateVideoMarkup(a.src,a.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isSelfHostedVideo:function(a){this.updateSelfHostedVideo(a.src,a.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},isSelfHostedAudio:function(a){this.updateSelfHostedAudio(a.src,a.title,this.getCounterMarkup(this.options.lightboxCounter,this.current+1,this.counterTotal))},getCounterMarkup:function(a,b,c){if(!a.length)return"";var d={current:b,total:c};return a.replace(/\{\{current}}|\{\{total}}/gi,function(a){return d[a.slice(2,-2)]})},updateSelfHostedVideo:function(b,d,e){this.wrap.addClass("cbp-popup-lightbox-isIframe");var a,c='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(a=0;a<b.length;a++)/(\.mp4)/i.test(b[a])?c+='<source src="'+b[a]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(b[a])?c+='<source src="'+b[a]+'" type="video/ogg">':/(\.webm)/i.test(b[a])&&(c+='<source src="'+b[a]+'" type="video/webm">');c+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(d?'<div class="cbp-popup-lightbox-title">'+d+"</div>":"")+e+"</div></div>",this.content.html(c),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateSelfHostedAudio:function(b,a,c){this.wrap.addClass("cbp-popup-lightbox-isIframe"),this.content.html('<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+b+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(a?'<div class="cbp-popup-lightbox-title">'+a+"</div>":"")+c+"</div></div>"),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateVideoMarkup:function(b,a,c){this.wrap.addClass("cbp-popup-lightbox-isIframe"),this.content.html('<div class="cbp-popup-lightbox-iframe"><iframe src="'+b+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(a?'<div class="cbp-popup-lightbox-title">'+a+"</div>":"")+c+"</div></div>"),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateImagesMarkup:function(b,a,c){this.wrap.removeClass("cbp-popup-lightbox-isIframe");var d='<div class="cbp-popup-lightbox-figure"><img src="'+b+'" class="cbp-popup-lightbox-img" '+this.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(a?'<div class="cbp-popup-lightbox-title">'+a+"</div>":"")+c+"</div></div>";this.content.html(d),this.wrap.addClass("cbp-popup-ready"),this.resizeImage(),this.preloadNearbyImages()},next:function(){this[this.type+"JumpTo"](1)},prev:function(){this[this.type+"JumpTo"](-1)},lightboxJumpTo:function(c){var b,a=this;a.current=a.getIndex(a.current+c),a[(b=a.dataArray[a.current]).type](b)},singlePageJumpTo:function(d){var a=this;a.current=a.getIndex(a.current+d),b.isFunction(a.options.singlePageCallback)&&(a.resetWrap(),a.contentWrap.scrollTop(0),a.wrap.addClass("cbp-popup-loading"),a.slider&&c.private.resize.destroyEvent(b.data(a.slider[0],"cubeportfolio")),a.options.singlePageCallback.call(a,a.dataArray[a.current].url,a.dataArray[a.current].element),a.options.singlePageDeeplinking&&(location.href=a.url+"#cbp="+a.dataArray[a.current].url))},resetWrap:function(){"singlePage"===this.type&&this.options.singlePageDeeplinking&&(location.href=this.url+"#"),"singlePageInline"===this.type&&this.options.singlePageInlineDeeplinking&&(location.href=this.url+"#")},getIndex:function(a){return(a%=this.counterTotal)<0&&(a=this.counterTotal+a),a},close:function(f,e){var a=this;function h(){a.slider&&c.private.resize.destroyEvent(b.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),a.isOpen=!1,"promise"===f&&b.isFunction(e.callback)&&e.callback.call(a.cubeportfolio)}function g(){var c=b(d).scrollTop();a.resetWrap(),b(d).scrollTop(c),a.options.singlePageInlineInFocus&&"promise"!==f?b("html,body").animate({scrollTop:a.scrollTop},350).promise().then(function(){h()}):h()}"singlePageInline"===a.type?"open"===f?(a.wrap.removeClass("cbp-popup-singlePageInline-ready"),b(a.dataArray[a.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),a.isOpen=!1,a.openSinglePageInline(e.blocks,e.currentBlock,e.fromOpen)):(a.height=0,a.revertResizeSinglePageInline(),a.wrap.removeClass("cbp-popup-singlePageInline-ready"),a.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),a.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),c.private.modernBrowser?a.wrap.one(c.private.transitionend,function(){g()}):g()):"singlePage"===a.type?(a.resetWrap(),a.stopScroll=!0,a.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),b("html").css({overflow:"",marginRight:"",position:""}),b(d).scrollTop(a.scrollTop),"ie8"!==c.private.browser&&"ie9"!==c.private.browser||(a.slider&&c.private.resize.destroyEvent(b.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.isOpen=!1),a.wrap.one(c.private.transitionend,function(){a.slider&&c.private.resize.destroyEvent(b.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.isOpen=!1})):(i=!1,a.originalStyle?b("html").attr("style",a.originalStyle):b("html").css({overflow:"",marginRight:""}),b(d).scrollTop(a.scrollTop),a.slider&&c.private.resize.destroyEvent(b.data(a.slider[0],"cubeportfolio")),a.content.html(""),a.wrap.detach(),a.isOpen=!1)},tooggleLoading:function(a){this.stopEvents=a,this.wrap[a?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var a=this.content.find("img"),c=a.parent(),e=b(d).height()-(c.outerHeight(!0)-c.height())-this.content.find(".cbp-popup-lightbox-bottom").outerHeight(!0);a.css("max-height",e+"px")}},preloadNearbyImages:function(){for(var a=this,c=[a.getIndex(a.current+1),a.getIndex(a.current+2),a.getIndex(a.current+3),a.getIndex(a.current-1),a.getIndex(a.current-2),a.getIndex(a.current-3)],b=c.length-1;0<=b;b--)"isImage"===a.dataArray[c[b]].type&&a.cubeportfolio.checkSrc(a.dataArray[c[b]])}};function a(a){var b=this;!1===(b.parent=a).options.lightboxShowCounter&&(a.options.lightboxCounter=""),!1===a.options.singlePageShowCounter&&(a.options.singlePageCounter=""),a.registerEvent("initStartRead",function(){b.run()},!0)}var i=!1,j=!1,k=!1;a.prototype.run=function(){var d=this,a=d.parent,c=b(e.body);a.lightbox=null,a.options.lightboxDelegate&&!j&&(j=!0,a.lightbox=Object.create(h),a.lightbox.init(a,"lightbox"),c.on("click.cbp",a.options.lightboxDelegate,function(i){i.preventDefault();var c=b(this),f=c.attr("data-cbp-lightbox"),e=d.detectScope(c),g=e.data("cubeportfolio"),h=[];g?g.blocksOn.each(function(e,d){var c=b(d);c.not(".cbp-item-off")&&c.find(a.options.lightboxDelegate).each(function(c,a){f?b(a).attr("data-cbp-lightbox")===f&&h.push(a):h.push(a)})}):h=f?e.find(a.options.lightboxDelegate+"[data-cbp-lightbox="+f+"]"):e.find(a.options.lightboxDelegate),a.lightbox.openLightbox(h,c[0])})),a.singlePage=null,a.options.singlePageDelegate&&!k&&(k=!0,a.singlePage=Object.create(h),a.singlePage.init(a,"singlePage"),c.on("click.cbp",a.options.singlePageDelegate,function(i){i.preventDefault();var c=b(this),f=c.attr("data-cbp-singlePage"),e=d.detectScope(c),g=e.data("cubeportfolio"),h=[];g?g.blocksOn.each(function(e,d){var c=b(d);c.not(".cbp-item-off")&&c.find(a.options.singlePageDelegate).each(function(c,a){f?b(a).attr("data-cbp-singlePage")===f&&h.push(a):h.push(a)})}):h=f?e.find(a.options.singlePageDelegate+"[data-cbp-singlePage="+f+"]"):e.find(a.options.singlePageDelegate),a.singlePage.openSinglePage(h,c[0])})),a.singlePageInline=null,a.options.singlePageInlineDelegate&&(a.singlePageInline=Object.create(h),a.singlePageInline.init(a,"singlePageInline"),a.$obj.on("click.cbp",a.options.singlePageInlineDelegate,function(d){d.preventDefault();var c=b.data(this,"cbp-locked"),e=b.data(this,"cbp-locked",+new Date);(!c||300<e-c)&&a.singlePageInline.openSinglePageInline(a.blocksOn,this)}))},a.prototype.detectScope=function(c){var d,f,a;return(d=c.closest(".cbp-popup-singlePageInline")).length?(a=c.closest(".cbp",d[0])).length?a:d:(f=c.closest(".cbp-popup-singlePage")).length?(a=c.closest(".cbp",f[0])).length?a:f:(a=c.closest(".cbp")).length?a:b(e.body)},a.prototype.destroy=function(){var a=this.parent;b(e.body).off("click.cbp"),k=j=!1,a.lightbox&&a.lightbox.destroy(),a.singlePage&&a.singlePage.destroy(),a.singlePageInline&&a.singlePageInline.destroy()},c.plugins.popUp=function(b){return new a(b)}}(jQuery,window,document),function(b,d,e,f){"use strict";var c=b.fn.cubeportfolio.constructor;function a(c){var a=this;a.parent=c,a.searchInput=b(c.options.search),a.searchInput.each(function(d,a){var c=a.getAttribute("data-search");c||(c="*"),b.data(a,"searchData",{value:a.value,el:c})});var d=null;a.searchInput.on("keyup.cbp paste.cbp",function(c){c.preventDefault();var e=b(this);clearTimeout(d),d=setTimeout(function(){a.runEvent.call(a,e)},350)}),a.searchNothing=a.searchInput.siblings(".cbp-search-nothing").detach(),a.searchNothingHeight=null,a.searchNothingHTML=a.searchNothing.html(),a.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(c){c.preventDefault(),a.runEvent.call(a,b(this).prev().val(""))})}a.prototype.runEvent=function(a){var d=this,c=a.val(),e=a.data("searchData"),f=new RegExp(c,"i");e.value===c||d.parent.isAnimating||(0<(e.value=c).length?a.attr("value",c):a.removeAttr("value"),d.parent.$obj.cubeportfolio("filter",function(g){var a=g.filter(function(c,a){if(-1<b(a).find(e.el).text().search(f))return!0});if(0===a.length&&d.searchNothing.length){var h=d.searchNothingHTML.replace("{{query}}",c);d.searchNothing.html(h),d.searchNothing.appendTo(d.parent.$obj),null===d.searchNothingHeight&&(d.searchNothingHeight=d.searchNothing.outerHeight(!0)),d.parent.registerEvent("resizeMainContainer",function(){d.parent.height=d.parent.height+d.searchNothingHeight,d.parent.obj.style.height=d.parent.height+"px"},!0)}else d.searchNothing.detach();return d.parent.triggerEvent("resetFiltersVisual"),a},function(){a.trigger("keyup.cbp")}))},a.prototype.destroy=function(){this.searchInput.off(".cbp"),this.searchInput.next(".cbp-search-icon").off(".cbp"),this.searchInput.each(function(c,a){b.removeData(a)})},c.plugins.search=function(b){return""===b.options.search?null:new a(b)}}(jQuery,window,document),function(b,d,e,f){"use strict";var g={pagination:"",paginationClass:"cbp-pagination-active"},c=b.fn.cubeportfolio.constructor;function a(d){var a=this;a.parent=d,a.options=b.extend({},g,a.parent.options.plugins.slider);var c=b(a.options.pagination);0<c.length&&(a.parent.customPagination=c,a.parent.customPaginationItems=c.children(),a.parent.customPaginationClass=a.options.paginationClass,a.parent.customPaginationItems.on("click.cbp",function(c){c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),a.parent.sliderStopEvents||a.parent.jumpToSlider(b(this))})),a.parent.registerEvent("gridAdjust",function(){a.sliderMarkup.call(a.parent),a.parent.registerEvent("gridAdjust",function(){a.updateSlider.call(a.parent)})},!0)}a.prototype.sliderMarkup=function(){var a=this;a.sliderStopEvents=!1,a.sliderActive=0,a.$obj.one("initComplete.cbp",function(){a.$obj.addClass("cbp-mode-slider")}),a.nav=b("<div/>",{class:"cbp-nav"}),a.nav.on("click.cbp","[data-slider-action]",function(c){if(c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),!a.sliderStopEvents){var d=b(this),e=d.attr("data-slider-action");a[e+"Slider"]&&a[e+"Slider"](d)}}),a.options.showNavigation&&(a.controls=b("<div/>",{class:"cbp-nav-controls"}),a.navPrev=b("<div/>",{class:"cbp-nav-prev","data-slider-action":"prev"}).appendTo(a.controls),a.navNext=b("<div/>",{class:"cbp-nav-next","data-slider-action":"next"}).appendTo(a.controls),a.controls.appendTo(a.nav)),a.options.showPagination&&(a.navPagination=b("<div/>",{class:"cbp-nav-pagination"}).appendTo(a.nav)),(a.controls||a.navPagination)&&a.nav.appendTo(a.$obj),a.updateSliderPagination(),a.options.auto&&(a.options.autoPauseOnHover&&(a.mouseIsEntered=!1,a.$obj.on("mouseenter.cbp",function(b){a.mouseIsEntered=!0,a.stopSliderAuto()}).on("mouseleave.cbp",function(b){a.mouseIsEntered=!1,a.startSliderAuto()})),a.startSliderAuto()),a.options.drag&&c.private.modernBrowser&&a.dragSlider()},a.prototype.updateSlider=function(){this.updateSliderPosition(),this.updateSliderPagination()},a.prototype.destroy=function(){this.parent.customPaginationItems&&this.parent.customPaginationItems.off(".cbp"),(this.parent.controls||this.parent.navPagination)&&(this.parent.nav.off(".cbp"),this.parent.nav.remove())},c.plugins.slider=function(b){return"slider"!==b.options.layoutMode?null:new a(b)}}(jQuery,window,document),function(b,d,e,f){"use strict";var g={element:""},c=b.fn.cubeportfolio.constructor;function a(c){var a=this;a.parent=c,a.options=b.extend({},g,a.parent.options.plugins.sort),a.element=b(a.options.element),0!==a.element.length&&(a.sort="",a.sortBy="string:asc",a.element.on("click.cbp",".cbp-sort-item",function(d){d.preventDefault(),a.target=d.target,b(a.target).hasClass("cbp-l-dropdown-item--active")||c.isAnimating||(a.processSort(),c.$obj.cubeportfolio("filter",c.defaultFilter))}),c.registerEvent("triggerSort",function(){a.target&&(a.processSort(),c.$obj.cubeportfolio("filter",c.defaultFilter))}),a.dropdownWrap=a.element.find(".cbp-l-dropdown-wrap").on({"mouseover.cbp":function(){b(this).addClass("cbp-l-dropdown-wrap--open")},"mouseleave.cbp":function(){b(this).removeClass("cbp-l-dropdown-wrap--open")}}),a.dropdownHeader=a.element.find(".cbp-l-dropdown-header"))}a.prototype.processSort=function(){var a=this,c=a.parent,g=(f=a.target).hasAttribute("data-sort"),h=f.hasAttribute("data-sortBy");if(g&&h)a.sort=f.getAttribute("data-sort"),a.sortBy=f.getAttribute("data-sortBy");else if(g)a.sort=f.getAttribute("data-sort");else{if(!h)return;a.sortBy=f.getAttribute("data-sortBy")}var e=a.sortBy.split(":"),i="string",j=1;if("int"===e[0]?i="int":"float"===e[0]&&(i="float"),"desc"===e[1]&&(j=-1),a.sort){var k=[];c.blocks.each(function(f,e){var d=b(e),c=d.find(a.sort).text();"int"===i&&(c=parseInt(c,10)),"float"===i&&(c=parseFloat(c,10)),k.push({sortText:c,data:d.data("cbp")})}),k.sort(function(c,d){var a=c.sortText,b=d.sortText;return"string"===i&&(a=a.toUpperCase(),b=b.toUpperCase()),a<b?-j:b<a?j:0}),b.each(k,function(a,b){b.data.index=a})}else{var l=[];-1===j&&(c.blocks.each(function(c,a){l.push(b(a).data("cbp").indexInitial)}),l.sort(function(a,b){return b-a})),c.blocks.each(function(d,c){var a=b(c).data("cbp");a.index=-1===j?l[a.indexInitial]:a.indexInitial})}c.sortBlocks(c.blocks,"index"),a.dropdownWrap.trigger("mouseleave.cbp");var f=b(a.target),d=b(a.target).parent();d.hasClass("cbp-l-dropdown-list")?(a.dropdownHeader.html(f.html()),f.addClass("cbp-l-dropdown-item--active").siblings(".cbp-l-dropdown-item").removeClass("cbp-l-dropdown-item--active")):d.hasClass("cbp-l-direction")&&(0===f.index()?d.addClass("cbp-l-direction--second").removeClass("cbp-l-direction--first"):d.addClass("cbp-l-direction--first").removeClass("cbp-l-direction--second"))},a.prototype.destroy=function(){this.element.off("click.cbp")},c.plugins.sort=function(b){return new a(b)}}(jQuery,window,document)